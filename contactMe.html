<!DOCTYPE html>
<html lang="en">


<head>
    <meta charset="UTF-8">
    <meta name="author" content="Katskt">
    <meta name="description" content="The official website for Katskt's blog">
    <title>Katskt's Blog</title>
    <link rel="icon" href="/img/favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="css/style.css" type="text/css">
</head>

<body>
    <header>
        <nav aria-label="primary-navigaton">
            <ul>

                <li class="title">
                    <p>Katie Pyo</p>
                </li>
                <li>
                    <a href="index.html">Home</a>
                </li>
                <li>
                    <a href="aboutMe.html">About Me</a>
                </li>
                <li>
                    <a href="projects.html">Projects</a>
                </li>
                <li>
                    <a href="contactMe.html">Contact Me</a>
                    <br>
                </li>
            </ul>
        </nav>
    </header>
    <div>
        <main>
            <h1>Contact Me</h1>
            <article id="sendMessage">

                <form id="contact-form">
                    <fieldset>
                        <legend>Send Me A Message</legend>
                        <p>
                            <label for="email">Email: </label>
                            <input type="email" name="entry.681483479" id="email" placeholder="example@example.com"
                                autocomplete="on" required>
                        </p>
                        <p>
                            <label for="name">Name: </label>
                            <input type="text" name="entry.1897718034" id="name" placeholder="Name" autocomplete="on"
                                required>
                        </p>
                        <p>
                            <label for="message">Your Message: </label>
                            <br>
                            <textarea name="entry.1443503686" id="message" cols="30" rows="10"
                                placeholder="Type your message here"></textarea>
                        </p>
                    </fieldset>
                    <button type="submit">Send</button>
                    <button type="reset">Reset</button>
                </form>
                <p class="success-message" id="success-message" style="display:none; color: green;">Your message has
                    been sent!</p>

            </article>
        </main>
    </div>
    <hr>
    <footer>
        <p>
            Copyright &copy; Katskt
        </p>
    </footer>
</body>
<script>
    if (window.location.pathname.endsWith(".html")) {
        const newPath = window.location.pathname.replace(".html", "");
        window.history.replaceState(null, "", newPath);
    }


    document.getElementById("contact-form").addEventListener("submit", function (event) {
        event.preventDefault(); // Stop normal form submission

        // Get form data
        const formData = new FormData(this);

        // Submit to Google Form
        fetch("https://docs.google.com/forms/d/e/1FAIpQLSdrb-7KGyYE8mA392jBarHtIG9hUhOXkA00PBSKdUXm0LGWHg/formResponse", {
            method: "POST",
            body: formData,
            mode: "no-cors" // Prevent CORS issues
        }).then(() => {
            // Show success message
            document.getElementById("success-message").style.display = "block";
            document.getElementById("contact-form").reset(); // Clear form
        }).catch(error => console.error("Error:", error));
    });

</script>

</html>